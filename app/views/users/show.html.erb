<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../assets/stylesheets/profile.css">
  <title>Profile</title>
</head>
<body id="profile-body">
  <header id="profile-header">
    <h1 id="title">oKStupid</h1>
    <nav>
      <ul>
        <li><a href="#" id="match">Match Me</a></li>
        <li><%= link_to "Profile", user_path(@current_user) %></li>
        <li><%= link_to "Browse", users_path %></li>
        <li><%= link_to "Log Out", "/login", method: :delete %></li>
      </ul>
    </nav>
  </header>
  <main id="profile-main">
    <div id="profile-container">
      <div id="profile-picture">
        <% if @user.picture.attached? %>
          <img class:"profile-pic" src="<%=(url_for(@user.picture))%>">
        <% else %>
          <%= image_tag 'rick.png', class:"profile-pic" %>
        <% end %>
        <% if user_path(@user) != user_path(@current_user)%>
          <div id="button-div">
            <button id="follow-button"> Follow </button>
          </div>
        <% end %>
    </div>  
      <div class="bio">
        <p><b>Name:</b> <%= @user.name%></p>
        <p><b>Age:</b> <%= @user.age%></p>
        <p><b>Location:</b> <%= @user.location%></p>
        <p><b>Bio:</b> <%= @user.bio%></p>
      </div>
    </div> <!-- End of bio div -->
    <hr>
    <div id="profile-wrapper">
      <% if user_path(@user) == user_path(@current_user)%>
      <div class="profile-follows">
        <h3 class="profile-h3">Followers</h3>
        <% @user.followers.each do |follower| %>
        <p><%= link_to follower.name, user_path(follower) %> </p>
        <% end %>
      </div> <!-- End of followers div -->
      <div class="profile-follows">
        <h3 class="profile-h3">Following</h3>
        <% @user.followees.each do |followee| %>
          <p><%= link_to followee.name, user_path(followee) %></p>
        <% end %>
      </div> <!-- End of following div -->
      <% end %>
    </div> <!-- End of profile-wrapper div -->
  </main>
</body>
</html>
